# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthResponse {
  accessToken: String!
  user: User!
}

input CreateEmployeeInput {
  age: Int!
  attendance: JSON
  class: String!
  name: String!
  subjects: [String!]!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Employee {
  age: Int!
  attendance: JSON!
  class: String!
  createdAt: DateTime!
  id: ID!
  name: String!
  subjects: [String!]!
  updatedAt: DateTime!
}

input EmployeeFilterInput {
  class: String
  maxAge: Int
  minAge: Int
  name: String
  subject: String
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

input LoginInput {
  password: String!
  username: String!
}

type Mutation {
  """Create a new employee (Admin only)"""
  addEmployee(input: CreateEmployeeInput!): Employee!

  """Delete an employee (Admin only)"""
  deleteEmployee(id: Int!): Employee!
  login(input: LoginInput!): AuthResponse!
  register(input: RegisterInput!): AuthResponse!

  """Update an existing employee (Admin only)"""
  updateEmployee(id: Int!, input: UpdateEmployeeInput!): Employee!
}

type PaginatedEmployeeResponse {
  currentPage: Int!
  hasMore: Boolean!
  items: [Employee!]!
  total: Int!
  totalPages: Int!
}

input PaginationInput {
  limit: Int! = 10
  offset: Int! = 0
  sortBy: String = "createdAt"
  sortOrder: SortOrder = DESC
}

type Query {
  """Get a single employee by ID"""
  employee(id: Int!): Employee!

  """Get all employees with optional filters"""
  employees(filter: EmployeeFilterInput): [Employee!]!

  """Get paginated list of employees with sorting and filtering"""
  employeesPaginated(filter: EmployeeFilterInput, pagination: PaginationInput!): PaginatedEmployeeResponse!
  me: User!
}

input RegisterInput {
  password: String!
  role: Role! = EMPLOYEE
  username: String!
}

"""User role for access control"""
enum Role {
  ADMIN
  EMPLOYEE
}

"""Sort order for queries"""
enum SortOrder {
  ASC
  DESC
}

input UpdateEmployeeInput {
  age: Int
  attendance: JSON
  class: String
  name: String
  subjects: [String!]
}

type User {
  createdAt: DateTime!
  id: ID!
  role: Role!
  updatedAt: DateTime!
  username: String!
}